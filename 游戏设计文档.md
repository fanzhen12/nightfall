游戏设计文档 (Game Design Document) - Project Nightfall
1. 游戏概述 (Game Overview)
●	项目名称：Project Nightfall (暂定名)
●	游戏类型：2D 横版卷轴 / 生存 / 基地建设 / 塔防 / 策略 (RPG元素)
●	核心体验：在末世中通过资源管理、基地防御和战术规划，抵御日益增强的尸潮，生存至规定天数。
●	美术风格：写实像素风或手绘风（强调荒凉与压抑感）。
●	视角：侧视视角 (Side-Scrolling)。
2. 核心循环 (Core Loop)
1.	白昼 (06:00 - 18:00)：探索与生产。利用相对安全的时段探索地图，搜集不可再生资源，管理农田，招募NPC，研究科技。
2.	黄昏 (18:00 - 20:00)：整备与物流。运送资源回基地，存入冷库，修补防御工事，给发电机补充燃料，分配NPC防守站位。
3.	夜晚 (20:00 - 06:00)：生存与防御。抵御尸潮进攻，利用陷阱、机枪塔和有限的弹药消灭敌人。
4.	成长 (解锁与升级)：获取蓝图解锁更高级科技（电力、量子技术），应对下一波更强的混合尸潮。
3. 角色与NPC系统 (Character & NPC System)
游戏采用多角色解锁机制。玩家开局选择一名角色，随着游戏进程，招募的NPC既是劳动力，也是未来的可选主角。
3.1 职业设定
职业	特性	优势 (Pros)	劣势 (Cons)
退役军人	战斗型	枪械装填速度快，生命上限高，初始自带一把手枪。	饥饿值消耗稍快。
科学家	科技型	科研速度+50%，修理精密电子设备，智力高。	移动速度慢，近战伤害低。
医生	辅助型	制作药品速度极快，自带急救技能，抗感染能力强。	采集资源（砍树/挖矿）效率低。
运动员	探索型	移动速度快，耐力条长（能长时间奔跑/闪避）。	新陈代谢快，极易饥饿。
工兵	建造型	建造和修复墙壁速度快，陷阱伤害加成。	战斗能力平庸。
3.2 招募与解锁
●	NPC招募：在地图废墟中发现幸存者，完成任务后将其带回。
●	永久解锁：成功招募某种职业的NPC后，该职业将在下一次新开档时解锁为可选主角。
3.3 NPC 指挥与自动化系统 (NPC AI & Command)
为了适应基地建设、外出探索以及全员搬迁等多种场景，指挥系统分为托管、小队和全员三个层级。
A. 基地托管模式 (Base Mode - Automation)
当NPC处于“空闲”状态且未接到特定指令时，执行基于优先级的自动AI逻辑。
●	优先级面板：玩家可设定每个NPC的工作优先级（如科学家优先研究，工兵优先修理）。
●	自我维护：NPC会自动寻找食物、水源和床铺。如果基地失守，非战斗人员会自动撤退至安全区。
B. 战术跟随模式 (Squad Mode - Combat)
适用于小规模探险或攻坚战。
●	操作：与特定NPC交互 -> 选择“跟随我”。
●	效果：该NPC停止工作，紧跟玩家，主动攻击视线内的敌人。适合带1-2名精锐（如医生+军人）去打BOSS。
C. 全员迁移与召唤系统 (Mass Migration & Summoning)
适用于基地搬迁、放弃据点或紧急撤离，解决“搬家难”的问题。
●	1. 集合号令 (Assembly Call)：
○	操作：玩家在当前位置使用道具“战术口哨”或“集结旗帜”。
○	效果：附近范围内的所有已招募NPC立刻放下工作，全速跑到玩家身边集结。
●	2. 远程全员召唤 (Global Recall)：
○	场景：玩家独自跑图找到了更完美的基地位置（如易守难攻的山洞），需要旧基地的所有人立刻过来。
○	操作：玩家在新地点使用“通讯电台”或“信号弹”发出**[全员迁移]**指令。
○	效果：
■	无论距离多远，所有NPC（包括正在工作的）都会立刻出发，根据地图路径向玩家当前位置奔袭。
■	行军机制：NPC在长途奔袭中会结成紧密的**“行军阵型”**（战斗人员在外圈，非战斗人员在内圈），边移动边自动反击沿途的零散丧尸。
■	玩家策略：玩家可以选择在原地等待大部队汇合，也可以往回走去接应他们，确保路上没有太强的怪物群造成减员。
4. 生存与物资机制 (Survival & Logistics)
4.1 核心生存指标
●	生命值 (HP)：归零死亡。
●	饥饿值 (Hunger)：影响生命自动回复和体力上限。
●	体温/健康 (Wellness)：
○	受天气影响（雪天需保暖，雨天需防湿）。
○	过低会导致感冒（持续掉血）。
●	感染值 (Infection)：被丧尸攻击概率感染。需抗生素压制，感染条满后角色变异死亡。
4.2 腐败与冷链系统
●	新鲜度机制：生肉、蔬菜、野果有“新鲜度”倒计时。
○	状态变化：新鲜 -> 陈旧（回复量减半） -> 腐败（食用致病/中毒）。
●	保存手段：
○	T1：风干架（制作肉干，保质期长但水分低）。
○	T3：冰箱（需电力）。通电状态下，放入的食物新鲜度倒计时停止。
4.3 高级物流：量子同步
●	物理储物箱：常规箱子，必须走到箱子面前交互。
●	量子储存箱 (Quantum Storage) (T4科技)：
○	全图共享库存网络。
○	在地图远端放置一个量子箱，放入的物资可直接从基地的量子箱取出。
○	彻底解决后期地图过大导致的“垃圾时间”。
5. 战斗系统 (Combat System)
设计风格：写实策略向。
●	射击手感：
○	无后坐力：准星稳定。
○	弹药稀缺：子弹不可再生（或造成本极高）。强调“精准点射”而非“泼水”。
○	手动换弹：无自动换弹。必须按键装填，换弹时有读条且移动减速。
●	武器类别：
○	近战：斧、撬棍、长矛（消耗耐力）。
○	远程：弓弩（可回收箭矢）、手枪、霰弹枪、步枪。
○	重武：火焰喷射器、火箭筒（对抗后期BOSS）。
6. 建造与电力 (Building & Automation)
6.1 建筑层级
●	防御：木墙 -> 石墙 -> 铁墙 -> 合金力场墙。
●	陷阱：地刺、绊线雷、断头台、减速网。
●	主动防御：
○	弩塔（需装填箭矢）。
○	机枪塔（需装填子弹+电力）。
○	激光塔（需高电力）。
6.2 电力系统 (Electricity)
进入工业时代的标志。
●	发电：火力发电机（需燃料+噪音）、太阳能（仅白天）、蓄电池组。
●	用电：冰箱、探照灯（大雾天视野）、炮塔、电网陷阱。
6.3 传送系统 (Teleportation)
●	传送门 (Teleporter) (T5科技)：
○	允许玩家和跟随NPC在激活的节点间瞬移。
○	限制：高耗电，或存在冷却时间。
7. 敌人演化 (Enemy Evolution)
机制：叠加式增强池 (Cumulative Pool)
随着天数增加，向怪物池中投入新怪种，旧怪种依然存在。后期为混合兵种进攻。
阶段	新增威胁	应对策略
初期	游荡者 (Walker)	慢速，近战。使用长矛或地刺。
前期	狂奔者 (Runner)	快速逼近。使用弓箭点杀或减速陷阱。
中期	肉盾 (Tank)	血厚，死后自爆。需加厚墙壁，远程引爆。
中后期	跳跃者 (Leaper)	直接跳过低矮墙壁。需加高墙体或对空陷阱。
后期	喷吐者 (Spitter)	远程腐蚀攻击墙体。狙击手优先解决。
末期	攻城兽 (Siege)	巨大体型，撞击防线。需重火力（火箭筒/地雷）。
8. 地图与关卡 (Maps & Modes)
8.1 预设战役 (Campaign)
官方设计的精细地图，非随机生成。
1.	希望谷 (The Valley)：新手向。资源均衡，地形平坦。
2.	铁锈城 (Rust City)：进阶向。大量废金属和电子元件，缺乏木材和食物。地形复杂（高楼/地铁）。
3.	永冻苔原 (Permafrost)：高难向。极寒天气，需时刻保暖。无法露天种植，必须造温室。
8.2 创意工坊 (Custom & Workshop)
●	内置地图编辑器。
●	允许玩家自定义地形、资源分布、尸潮波次配置（例如：第100天生成1000个跳跃者）。
●	支持上传至Steam创意工坊。
8.3 游戏模式
●	生存模式 (Survival)：死亡后在床重生，当前背包物品全部掉落在死亡地点（跑尸捡回）。扣除少量经验。
●	硬核模式 (Hardcore)：永久死亡 (Permadeath)。死亡即删档。通关有特殊成就奖励。
9. 科技树概要 (Tech Tree)
1.	原始时代：篝火、木矛、木墙、绷带。
2.	工具时代：弓箭、皮甲、石墙、种植箱、风干架。
3.	工业时代：发电机、电灯、冰箱、枪械工作台、铁墙。
4.	军工时代：机枪塔、防弹衣、夜视仪、量子储存箱。
5.	未来时代：传送门、激光武器、外骨骼动力甲、天气控制仪。
